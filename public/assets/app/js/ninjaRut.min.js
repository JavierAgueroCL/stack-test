!function(t,i){"use strict";var n=function(t){return this.protoRut=t,this.cleanRut=this.clean(),this.process(),this};n.prototype={clean:function(){var t=["0","1","2","3","4","5","6","7","8","9","k"],i=Array.prototype.map.call(this.protoRut.toLowerCase(),function(t){return t});return i=i.filter(function(i){return-1!==t.indexOf(i)}),i.join("")},process:function(){this.number=this.cleanRut.substring(0,this.cleanRut.length-1),this.digit=this.cleanRut.charAt(this.cleanRut.length-1),this.isValid=this.validate()},getDigit:function(){for(var t,i=0,n=2,e=this.number.length;e--;)i+=parseInt(this.number.charAt(e))*n,n%7===0?n=2:n++;return t=i%11,0===t?"0":1===t?"k":11-t},validate:function(){return this.cleanRut.length<6?!1:this.cleanRut.match(/(\d)\1{7,9}/)?!1:this.digit!=this.getDigit()?!1:!0},format:function(t){var i=t?this.number.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1."):this.number;return i+"-"+this.digit}},t.NinjaRut=n}(window,document);
